<div class="row">

  <div class="panel panel-default">
    <div class="panel-body">
      <select class="col-md-2" data-ng-model="mois" data-ng-change="process_data()" data-ng-options="annee.indexOf(m) as m for m in annee">
	<option value="">Toute l'ann√©e</option>
      </select>
      <select class="col-md-2" data-ng-model="classe" data-ng-change="process_data()" data-ng-options="class as class for (id, class) in classes">
	<option value="">Toutes les classes</option>
      </select>
    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-body row-fluid">
      <nvd3-pie-chart id="globalPieChart" class="col-md-4"
		      data="pieChart.data"
		      margin="{left:0,top:0,bottom:0,right:0}"
		      x="xFunction()"
		      y="yFunction()"
		      color="colorFunction()"
		      showLabels="true"
		      labelType="value"
		      showLegend="true"
		      tooltips="true"
		      pieLabelsOutside="false"
		      objectEquality="true"
		      noData="Aucune saisie" >
	<svg></svg>
      </nvd3-pie-chart>
      <nvd3-multi-bar-chart id="globalBarChart" class="col-md-8"
			    data="barChart.data"
			    height="256"
			    color="colorFunction()"
			    showXAxis="true"
			    showYAxis="true"
			    tooltips="true"
			    tooltipcontent="barChartTooltipContent()"
			    rotateLabels="20"
			    objectEquality="true"
			    xAxisTickFormat="barChartxAxisTickFormatFunction()"
			    noData="Aucune saisie" >
	<svg></svg>
      </nvd3-multi-bar-chart>
    </div>
  </div>

  <div class="col-md-3 bloc-enseignant" data-ng-repeat="individualChart in individualCharts.enseignants">
    <div class="panel panel-default">
      <div class="panel-heading">
	<h4>
	  <a data-ui-sref="principal.enseignant({ enseignant_id: individualChart.enseignant.id_ent })">
	    {{individualChart.enseignant.full_name}}
	  </a>
	</h4>
	<h6 data-ng-show="individualChart.enseignant.classes.length > 0">
	  <span data-ng-repeat="classe in individualChart.enseignant.classes">{{($first == true) && "(" || ""}}{{classe.classe_libelle}}{{($last != true) && ", " || ")"}}</span>
	</h6>
      </div>
      <div class="panel-body">
	<div class="col-md-12">
	  <nvd3-pie-chart id="individualPieChart{{$index}}" class="individualPieChart"
			  width="64"
			  height="64"
			  data="individualChart.pieChart.data"
			  margin="{left:0,top:0,bottom:0,right:0}"
			  x="xFunction()"
			  y="yFunction()"
			  color="colorFunction()"
			  showLabels="false"
			  labelType="value"
			  showLegend="false"
			  tooltips="true"
			  pieLabelsOutside="false"
			  objectEquality="true"
			  noData="Aucune saisie" >
	    <svg></svg>
	  </nvd3-pie-chart>
	  <span class="badge badge-info">{{individualChart.pieChart.data[0].value}} / {{individualChart.pieChart.data[0].value + individualChart.pieChart.data[1].value}}</span>
	</div>
	<ul class="col-md-12">
	  <li data-ng-repeat="matiere in individualChart.enseignant.matieres">{{matiere}}</li>
	</ul>
      </div>
    </div>
  </div>

</div>
