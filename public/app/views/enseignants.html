<div class="panel panel-default">
    <div class="panel-heading">
        <div class="row">
            <div class="pull-left"
                 style="width: 1045px; max-height: 128px; overflow-y: auto;">
                <ui-select multiple class="pull-left" theme="bootstrap"
                           append-to-body="true"
                           data-ng-change="filter_data()"
                           data-ng-model="scope.selected_regroupements">
                    <ui-select-match placeholder="Regroupement(s)...">{{$item.libelle}}</ui-select-match>
                    <ui-select-choices repeat="regroupement in regroupements | orderBy:['type','libelle']"
                                       group-by="'type'">
                        {{regroupement.libelle}}
                    </ui-select-choices>
                </ui-select>
            </div>
            <button class="btn btn-sm btn-primary pull-left"
                    data-ng-click="select_all_regroupements()"><span class="glyphicon glyphicon-certificate"></span></button>
            <button class="btn btn-sm btn-default pull-left"
                    data-ng-click="select_no_regroupements()"><span class="glyphicon glyphicon-erase"></span></button>
            <!--
                 <select class="col-md-3 pull-right"
                 data-ng-model="scope.selected_mois"
                 data-ng-change="filter_data()"
                 data-ng-options="annee.indexOf(m)+1 as m for m in annee">
                 <option value="">Toute l'année</option>
                 </select> -->

        </div>
    </div>
</div>

<div class="col-md-3 bloc-enseignant"
     data-ng-repeat="chart in individualCharts.enseignants | orderBy:'enseignant.details.full_name'"
     data-ng-if="chart.display">
    <div class="panel panel-default">
        <div class="panel-heading">
            <span class="glyphicon glyphicon-home pull-right"
                  uib-tooltip-trigger="click"
                  uib-tooltip-html-unsafe="{{chart.html_classes}}"></span>
            <span class="glyphicon glyphicon-briefcase pull-right"
                  uib-tooltip-trigger="click"
                  uib-tooltip-html-unsafe="{{chart.html_matieres}}"></span>
            <h4>
                <a data-ui-sref="principal.enseignant({ enseignant_id: chart.enseignant.details.id_ent })">
                    {{chart.enseignant.details.full_name}}
                </a>
            </h4>
        </div>
        <div class="panel-body">
            <span data-ng-if="chart.pieChart.data[0].value + chart.pieChart.data[1].value == 0">
                Aucune saisie à ce jour.
            </span>
            <span data-ng-if="chart.pieChart.data[0].value + chart.pieChart.data[1].value > 0">
                <nvd3-pie-chart id="individualPieChart{{$index}}" class="individualPieChart"
                                width="64"
                                height="64"
                                data="chart.pieChart.data"
                                margin="{left:0,top:0,bottom:0,right:0}"
                                x="chart.pieChart.xFunction()"
                                y="chart.pieChart.yFunction()"
                                color="chart.pieChart.colorFunction()"
                                showLabels="false"
                                labelType="value"
                                showLegend="false"
                                tooltips="true"
                                pieLabelsOutside="false"
                                objectEquality="true"
                                noData="Aucune saisie" >
                    <svg></svg>
                </nvd3-pie-chart>
                <span class="badge badge-info">
                    {{chart.pieChart.data[0].value + chart.pieChart.data[1].value}} saisies<br>
                    {{chart.pieChart.data[0].value}} visées
                </span>
            </span>
        </div>
    </div>
</div>
